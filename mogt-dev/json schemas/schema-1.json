{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Техпроцессы schema",
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "elements": {
        "type": "array",
        "minItems": 1,
        "items": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "options": {
              "type": "object",
              "additionalProperties": false,
              "minProperties": 1,
              "properties": {
                "icon": {
                  "enum": [
                    "paper-plane",
                    "thumbs-o-up",
                    "thumbs-o-down",
                    "cog",
                    "plus-square",
                    "plane",
                    "envelope"
                  ]
                },
                "data_proc": {
                  "type": "object",
                  "minProperties": 1,
                  "additionalProperties": false,
                  "properties": {
                    "status_code": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "next_status_id": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "status_code_aux": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "folder_cls_aux": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "do_not_send_to_cab": {
                      "enum": [
                        "1",
                        1
                      ]
                    },
                    "floder_cls_id": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "tid": {
                      "type": "integer"
                    },
                    "form_reload": {
                      "type": "string"
                    },
                    "class_val_id": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "tid_save_aux": {
                      "type": "integer"
                    },
                    "class_val_id_aux": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "proc_clear": {
                      "type": "string"
                    },
                    "category_clear": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "category_clear_aux": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "server_param": {
                      "type": "string"
                    },
                    "folder_cls_id": {
                      "type": "integer",
                      "minimum": 1
                    },
                    "petition_folder": {
                      "enum": [
                        1,
                        0
                      ]
                    },
                    "additional_files": {
                      "enum": [
                        1,
                        0
                      ]
                    },
                    "val_aux": {
                      "type": "string"
                    },
                    "check_required_fields": {
                      "enum": [
                        1,
                        0
                      ]
                    },
                    "suspense_days": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "suspense_work_day": {
                      "enum": [
                        "true",
                        "false",
                        true,
                        false
                      ]
                    },
                    "did":{
                        "enum": [
                            "#did#"
                        ]
                    },
                    "return_info": {
                        "enum": [
                            1,
                            0
                          ]
                    },
                    "aux_function":
                    {
                        "type":"string"
                    },
                    "req_type":
                    {
                        "type":"string"
                    },
                    "tid_cadnum":
                    {
                        "type":"integer"
                    },
                    "notific_data":
                    {   "type":"object",
                        "additionalProperties": false,
                        "minProperties": 1,
                        "properties": {
                        "role_id": 
                        {
                            "oneOf":
                            [
                                {"type":"integer","minimum": 0},
                                {
                                    "type":"array",
                                    "minItems":1,
                                    "items": {"type":"integer","minimum": 0}
                                }
                            ]
                        },
                          "sub_sys_name":{"type": "string"},
                          "text_notific": {"type": "string"},
                          "subject_notif": {"type": "string"}
                        }
                    },
                    "save_date_send":
                    {
                        "type":"integer",
                        "minimum": 0
                    }
                
                  }
                },
                "text_on_button": {
                  "type": "string"
                },
                "procname_button": {
                  "type": "string"
                },
                "ajax_one_req": {
                  "enum": [
                    1
                  ]
                },
                "petition_folder": {
                  "enum": [
                    1
                  ]
                },
                "additional_files": {
                  "enum": [
                    1
                  ]
                },
                "func_data": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "did": {
                      "enum": [
                        "#did#"
                      ]
                    },
                    "code_status": {
                      "type": "integer"
                    },
                    "return_info": {
                      "enum": [
                        1,
                        0
                      ]
                    },
                    "save_objtep": {
                      "type": "array",
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "minProperties": 1,
                        "additionalProperties": false,
                        "properties": {
                          "tid": {
                            "type": "integer"
                          },
                          "val": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "server_param": {
                      "enum": [
                        "test"
                      ]
                    },
                    "do_not_send_to_cab": {
                      "enum": [
                        1,
                        "1"
                      ]
                    }
                  },
                  "minProperties": 1
                },
                "aux_func_name": {
                  "type": "string"
                }
              }
            },
            "type_form": {
              "enum": [
                "button"
              ]
            },
            "show_param": {
              "type": "object",
              "minProperties": 1,
              "additionalProperties": false,
              "properties": {
                "tid_show": {
                  "type": "integer"
                },
                "value_show": {
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "type": "string"
                  }
                },
                "role_access": {
                  "type": "integer",
                  "minimum": 0
                },
                "func_access":
                {
                    "type":"integer",
                    "minimum": 0
                }
              }
            },
            "role_access": {
              "type": "integer",
              "minimum": 0
            },
            "function_name": {
              "enum": [
                "aux_prc"
              ]
            },
            "itid":
            {
                "type":"integer"
            }
          }
        }
      },
      "show_finish_button": {
        "enum": [
          0,
          1
        ]
      },
      "show_next_button": {
        "enum": [
          0,
          1
        ]
      },
      "techproc_finished": {
        "enum": [
          1,
          0
        ]
      },
      "techproc_blocked": {
        "enum": [
          1,
          0
        ]
      }
    },
    "required": [
      "elements"
    ]
  }